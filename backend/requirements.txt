# ==========================================
# 📦 Key2Key Backend — Requirements
# ==========================================
# Python 3.10+
# FastAPI + SQLModel stack with async PostgreSQL, Redis caching, and secure auth.
# ==========================================


# ───────────────────────────────────────────
# 🔒 CORE SYSTEM DEPENDENCIES
# ───────────────────────────────────────────
cryptography==46.0.2          # Security primitives (used by JWT, jose, bcrypt, etc.)
psycopg2-binary==2.9.11       # PostgreSQL adapter for SQLAlchemy sync engine
python-json-logger==4.0.0     # JSON-based structured logging


# ───────────────────────────────────────────
# ⚙️ CORE WEB FRAMEWORK
# ───────────────────────────────────────────
fastapi==0.118.2              # Main web framework
starlette==0.48.0             # ASGI toolkit (FastAPI core dependency)
anyio==4.11.0                 # Async I/O backend
sniffio==1.3.1                # Detect running async library


# ───────────────────────────────────────────
# 🚀 ASGI SERVER (UVICORN STACK)
# ───────────────────────────────────────────
uvicorn==0.37.0               # ASGI server
uvloop==0.21.0                # Faster asyncio event loop (Unix only)
watchfiles==1.1.0             # Auto-reload for development
httptools==0.7.1              # HTTP parser for performance
h11==0.14.0                   # HTTP/1.1 protocol implementation


# ───────────────────────────────────────────
# 🗃️ DATABASE & ORM LAYER
# ───────────────────────────────────────────
sqlmodel==0.0.27              # ORM + Pydantic hybrid (SQLAlchemy + Pydantic)
SQLAlchemy==2.0.43            # Core ORM engine
alembic==1.16.5               # Database migrations
asyncpg==0.30.0               # Async PostgreSQL driver
greenlet==3.2.4               # Required by SQLAlchemy for concurrency
Mako==1.3.10                  # Alembic templating dependency


# ───────────────────────────────────────────
# 🧩 PYDANTIC & TYPE SYSTEM
# ───────────────────────────────────────────
pydantic==2.12.0
pydantic-settings==2.11.0     # Environment-based configuration
pydantic_core==2.41.1
annotated-types==0.7.0
typing_extensions==4.15.0
typing-inspection==0.4.2


# ───────────────────────────────────────────
# 🔐 SECURITY & AUTHENTICATION
# ───────────────────────────────────────────
passlib==1.7.4                # Password hashing utilities
bcrypt==4.0.1                 # Password hashing backend
python-jose==3.5.0            # JWT signing / encryption
# PyJWT==2.3.0                  # Alternative JWT lib (used by jose internally)
email-validator==2.3.0        # Email validation support


# ───────────────────────────────────────────
# ⚡ CACHING / REDIS
# ───────────────────────────────────────────
redis==6.4.0                  # Unified Redis client (async + sync)
# aioredis==2.0.1               # (Legacy) async Redis client — can be removed if unused
async-timeout==5.0.1          # Timeout helper for async operations


# ───────────────────────────────────────────
# 🧰 UTILITIES & LOGGING
# ───────────────────────────────────────────
python-dotenv==1.1.1          # Load environment variables from .env
loguru==0.7.3                 # Advanced structured logging
httpx==0.28.1                 # Async HTTP client
httpcore==1.0.7               # Core transport for httpx


# ───────────────────────────────────────────
# 🧪 DEVELOPMENT (Optional)
# ───────────────────────────────────────────
# pytest==8.3.3
# pytest-asyncio==0.24.0
# black==24.10.0
# isort==5.13.2
# flake8==7.1.1
